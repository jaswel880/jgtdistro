<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password - JGT</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section id="header">
        <a href="index.html"><img src="img/JGT (1).png" class="logo" alt="" srcset=""></a>

        <div>
            <ul id="navbar">
                <li><a href="index.html">Home</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li id="lg-bag"><a href="cart.html"><i class="fas fa-cart-shopping"></i></a></li>
                <li><a class="active" href="login.html">Login</a></li>
                <a href="#" id="close"><i class="fas fa-times"></i></a>
            </ul>
        </div>
        <div id="mobile">
            <a href="cart.html"><i class="fas fa-cart-shopping"></i></a>
            <i id="bar" class="fas fa-outdent"></i>
        </div>
    </section>

    <section id="reset-password" class="section-p1">
        <div class="reset-container">
            <div class="icon-container">
                <div class="icon">
                    <i class="fas fa-key"></i>
                </div>
                <h2>Reset Password</h2>
                <p>Masukkan password baru yang kuat untuk akun Anda</p>
            </div>
            <form id="resetForm" action="#" method="post">
                <div class="form-group">
                    <label for="newPassword">Password Baru:</label>
                    <div class="input-container">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="newPassword" name="newPassword" required minlength="6" placeholder="Minimal 6 karakter">
                    </div>
                    <div id="passwordStrength" class="password-strength"></div>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Konfirmasi Password Baru:</label>
                    <div class="input-container">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="confirmPassword" name="confirmPassword" required minlength="6" placeholder="Konfirmasi password baru Anda">
                    </div>
                    <div id="matchIndicator" class="match-indicator"></div>
                </div>
                <button type="submit" class="btn">Reset Password</button>
            </form>
            <div class="reset-links">
                <a href="login.html">← Kembali ke Login</a>
            </div>
        </div>
    </section>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Password toggle functionality
            const toggleNewPassword = document.getElementById('toggleNewPassword');
            const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
            const newPasswordInput = document.getElementById('newPassword');
            const confirmPasswordInput = document.getElementById('confirmPassword');
            const passwordStrength = document.getElementById('passwordStrength');
            const matchIndicator = document.getElementById('matchIndicator');

            toggleNewPassword.addEventListener('click', function() {
                const type = newPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                newPasswordInput.setAttribute('type', type);
                this.classList.toggle('fa-eye');
                this.classList.toggle('fa-eye-slash');
            });

            toggleConfirmPassword.addEventListener('click', function() {
                const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                confirmPasswordInput.setAttribute('type', type);
                this.classList.toggle('fa-eye');
                this.classList.toggle('fa-eye-slash');
            });

            // Password strength indicator
            newPasswordInput.addEventListener('input', function() {
                const password = this.value;
                let strength = 0;

                if (password.length >= 6) strength++;
                if (password.match(/[a-z]/)) strength++;
                if (password.match(/[A-Z]/)) strength++;
                if (password.match(/[0-9]/)) strength++;
                if (password.match(/[^A-Za-z0-9]/)) strength++;

                if (password.length > 0) {
                    passwordStrength.style.display = 'block';
                    if (strength <= 2) {
                        passwordStrength.textContent = 'Kekuatan password: Lemah';
                        passwordStrength.style.color = '#e74c3c';
                    } else if (strength <= 4) {
                        passwordStrength.textContent = 'Kekuatan password: Sedang';
                        passwordStrength.style.color = '#f39c12';
                    } else {
                        passwordStrength.textContent = 'Kekuatan password: Kuat';
                        passwordStrength.style.color = '#27ae60';
                    }
                } else {
                    passwordStrength.style.display = 'none';
                }

                // Check password match
                checkPasswordMatch();
            });

            // Password match indicator
            confirmPasswordInput.addEventListener('input', checkPasswordMatch);

            function checkPasswordMatch() {
                const password = newPasswordInput.value;
                const confirmPassword = confirmPasswordInput.value;

                if (confirmPassword.length > 0) {
                    matchIndicator.style.display = 'block';
                    if (password === confirmPassword) {
                        matchIndicator.textContent = '✓ Password cocok';
                        matchIndicator.style.color = '#27ae60';
                    } else {
                        matchIndicator.textContent = '✗ Password tidak cocok';
                        matchIndicator.style.color = '#e74c3c';
                    }
                } else {
                    matchIndicator.style.display = 'none';
                }
            }

            // Real-time validation
            const inputs = document.querySelectorAll('input[required]');
            inputs.forEach(input => {
                input.addEventListener('blur', function() {
                    validateField(this);
                });

                input.addEventListener('focus', function() {
                    this.parentElement.parentElement.style.transform = 'translateY(-2px)';
                    this.style.borderColor = '#667eea';
                    this.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.1)';
                });

                input.addEventListener('blur', function() {
                    this.parentElement.parentElement.style.transform = 'translateY(0)';
                    this.style.boxShadow = 'none';
                    if (!this.classList.contains('error')) {
                        this.style.borderColor = '#e1e5e9';
                    }
                });
            });

            function validateField(field) {
                const value = field.value.trim();
                let isValid = true;
                let errorMessage = '';

                switch (field.id) {
                    case 'newPassword':
                        if (value.length < 6) {
                            isValid = false;
                            errorMessage = 'Password minimal 6 karakter';
                        }
                        break;
                    case 'confirmPassword':
                        const password = document.getElementById('newPassword').value;
                        if (value !== password) {
                            isValid = false;
                            errorMessage = 'Password tidak cocok';
                        }
                        break;
                }

                if (!isValid) {
                    field.style.borderColor = '#e74c3c';
                    field.classList.add('error');
                    showError(field, errorMessage);
                } else {
                    field.style.borderColor = '#27ae60';
                    field.classList.remove('error');
                    hideError(field);
                }

                return isValid;
            }

            function showError(field, message) {
                let errorElement = field.parentElement.querySelector('.error-message');
                if (!errorElement) {
                    errorElement = document.createElement('div');
                    errorElement.className = 'error-message';
                    errorElement.style.cssText = 'color: #e74c3c; font-size: 12px; margin-top: 5px;';
                    field.parentElement.appendChild(errorElement);
                }
                errorElement.textContent = message;
            }

            function hideError(field) {
                const errorElement = field.parentElement.querySelector('.error-message');
                if (errorElement) {
                    errorElement.remove();
                }
            }

            // Add hover effects to button
            const submitBtn = document.querySelector('.btn');
            submitBtn.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
                this.style.boxShadow = '0 6px 20px rgba(102, 126, 234, 0.6)';
            });
            submitBtn.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = '0 4px 15px rgba(102, 126, 234, 0.4)';
            });

            // Add hover effects to links
            const links = document.querySelectorAll('a');
            links.forEach(link => {
                link.addEventListener('mouseenter', function() {
                    this.style.color = '#764ba2';
                });
                link.addEventListener('mouseleave', function() {
                    this.style.color = '#667eea';
                });
            });
        });

        document.getElementById('resetForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const newPassword = document.getElementById('newPassword').value.trim();
            const confirmPassword = document.getElementById('confirmPassword').value.trim();

            // Validate all fields
            const inputs = document.querySelectorAll('input[required]');
            let allValid = true;
            inputs.forEach(input => {
                if (!validateField(input)) {
                    allValid = false;
                }
            });

            // Additional validations
            if (newPassword !== confirmPassword) {
                alert('Password tidak cocok. Silakan coba lagi.');
                return;
            }

            if (newPassword.length < 6) {
                alert('Password harus minimal 6 karakter.');
                return;
            }

            if (!allValid) {
                alert('Silakan perbaiki kesalahan pada form sebelum melanjutkan.');
                return;
            }

            // Show loading state
            const submitBtn = document.querySelector('.btn');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Mereset Password...';
            submitBtn.disabled = true;

            // Simulate API call
            setTimeout(() => {
                // Success animation
                submitBtn.textContent = '✓ Berhasil!';
                submitBtn.style.background = 'linear-gradient(135deg, #27ae60, #2ecc71)';
                setTimeout(() => {
                    alert('Password berhasil direset! Anda akan diarahkan ke halaman login.');
                    window.location.href = 'login.html';
                }, 1000);
            }, 2000);
        });

        function validateField(field) {
            const value = field.value.trim();
            let isValid = true;

            switch (field.id) {
                case 'newPassword':
                    isValid = value.length >= 6;
                    break;
                case 'confirmPassword':
                    const password = document.getElementById('newPassword').value;
                    isValid = value === password;
                    break;
            }

            return isValid;
        }
    </script>
</body>
</html>

